(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{4622:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(5155),a=t(2115);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e;let t=null===(e=document.cookie.split("; ").find(e=>e.startsWith("resetToken=")))||void 0===e?void 0:e.split("=")[1];t&&(s(t),document.cookie="resetToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")},[]);let m=async s=>{if(s.preventDefault(),i(null),!e){i("Invalid or expired reset token");return}if(t!==d){i("Passwords do not match");return}try{if(!(await fetch("https://doctalk-backend-366f81fc2e1d.herokuapp.com/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})})).ok)throw Error("Failed to reset password");u(!0)}catch(e){i("Failed to reset password. Please try again.")}};return e?c?(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:[(0,r.jsx)("h1",{className:"mb-6 text-2xl font-bold text-green-600",children:"Password Reset Successful!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your password has been successfully reset. You can now log in with your new password."})]})}):(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:[(0,r.jsx)("h1",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Reset Your Password"}),(0,r.jsxs)("form",{onSubmit:m,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-700",children:"New Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:t,onChange:e=>l(e.target.value),className:"w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:outline-none",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"mb-2 block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",value:d,onChange:e=>o(e.target.value),className:"w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:outline-none",required:!0})]}),n&&(0,r.jsx)("p",{className:"mb-4 text-sm text-red-600",children:n}),(0,r.jsx)("button",{type:"submit",className:"w-full rounded-md bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:outline-none",children:"Reset Password"})]})]})}):(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:[(0,r.jsx)("h1",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Invalid Reset Link"}),(0,r.jsx)("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired. Please request a new password reset link."})]})})}},9137:(e,s,t)=>{Promise.resolve().then(t.bind(t,4622))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(9137)),_N_E=e.O()}]);