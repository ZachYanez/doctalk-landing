(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{4807:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(5155),a=r(2115),n=r(4624),o=r(2085),d=r(2596),l=r(9688);let i=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,size:o,asChild:c=!1,...u}=e,m=c?n.DX:"button";return(0,t.jsx)(m,{className:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,l.QP)((0,d.$)(s))}(i({variant:a,size:o,className:r})),ref:s,...u})});function u(){let[e,s]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=sessionStorage.getItem("resetToken");e&&(s(e),sessionStorage.removeItem("resetToken"))},[]);let p=async s=>{if(s.preventDefault(),i(""),f(!0),r!==o){i("Passwords do not match"),f(!1);return}if(r.length<8){i("Password must be at least 8 characters long"),f(!1);return}try{let s=await fetch("https://doctalk-backend-366f81fc2e1d.herokuapp.com/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:r})}),t=await s.json();if(t.success)m(!0),n(""),d(""),sessionStorage.removeItem("resetToken");else switch(s.status){case 400:i(t.message);break;case 404:i("User not found");break;case 500:i("Error resetting password");break;default:i(t.message||"Failed to reset password")}}catch(e){i("Network error occurred")}finally{f(!1)}};return e?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Please enter your new password below"})]}),u?(0,t.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,t.jsx)("p",{className:"text-green-800 text-center",children:"Password successfully reset! You can now log in with your new password."})}):(0,t.jsxs)("form",{onSubmit:p,className:"mt-8 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,t.jsx)("input",{id:"password",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:r,onChange:e=>n(e.target.value),minLength:8,placeholder:"Enter your new password"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>d(e.target.value),minLength:8,placeholder:"Confirm your new password"})]})]}),l&&(0,t.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,t.jsx)("p",{className:"text-red-800 text-sm",children:l})}),(0,t.jsx)(c,{type:"submit",className:"w-full",disabled:h,children:h?"Resetting Password...":"Reset Password"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),(0,t.jsx)("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired. Please request a new password reset link."})]})})}c.displayName="Button"},9137:(e,s,r)=>{Promise.resolve().then(r.bind(r,4807))}},e=>{var s=s=>e(e.s=s);e.O(0,[212,441,684,358],()=>s(9137)),_N_E=e.O()}]);