(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{767:function(e,t,r){Promise.resolve().then(r.bind(r,6966))},6966:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var s=r(7437),i=r(2265),n=r(4033);function o(){let e=(0,n.useSearchParams)(),[t,r]=(0,i.useState)("loading"),[o,a]=(0,i.useState)(""),[c,l]=(0,i.useState)(null),d=(0,i.useCallback)(async()=>{try{let t=e.get("token");if(!t){r("error"),a("No verification token found in URL");return}r("loading");let s=new AbortController,i=setTimeout(()=>s.abort(),1e4);try{let e=await fetch("".concat("https://api.doctalkhealth.com","/api/auth/verify-email?token=").concat(encodeURIComponent(t)),{method:"POST",headers:{"Content-Type":"application/json"},signal:s.signal});clearTimeout(i);let n=await e.json();if(!e.ok)throw Error(n.message||"Verification failed");if(n.success)r("success"),a(n.message||"Email verified successfully!"),n.userId&&l(n.userId),setTimeout(()=>{let e=n.userId?"doctalk://verified?userId=".concat(n.userId):"doctalk://verified";window.location.href=e},2e3);else throw Error(n.message||"Verification failed")}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw Error("Verification request timed out. Please try again.");throw e}}catch(e){console.error("Verification error:",e),r("error"),a(e instanceof Error?e.message:"Failed to verify email. Please try again.")}},[e]);return(0,i.useEffect)(()=>{d()},[d]),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(to bottom, #000000 0%, #11182A 40%, #03045e 70%, #0077B6 100%)"},children:(0,s.jsxs)("div",{className:"text-center p-8 rounded-lg",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold mb-6",style:{color:"white"},children:[(0,s.jsx)("span",{style:{color:"#FF4444"},children:"Doc"}),(0,s.jsx)("span",{style:{color:"#0077B6"},children:"Talk"})," Email Verification"]}),(0,s.jsxs)("div",{className:"mt-8",children:["loading"===t&&(0,s.jsxs)("div",{className:"text-white",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white mb-4"}),(0,s.jsx)("div",{className:"text-xl",children:"Verifying your email..."})]}),"success"===t&&(0,s.jsxs)("div",{className:"text-green-400 text-xl",children:[o,(0,s.jsx)("p",{className:"mt-4 text-white text-base",children:"Redirecting you back to the app..."})]}),"error"===t&&(0,s.jsxs)("div",{className:"text-red-400",children:[(0,s.jsx)("div",{className:"text-xl mb-4",children:o}),(0,s.jsx)("button",{onClick:d,className:"px-4 py-2 bg-[#0077B6] text-white rounded hover:bg-[#0066a1] transition-colors",children:"Try Again"})]})]})]})})}function a(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(o,{})})}},622:function(e,t,r){"use strict";var s=r(2265),i=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,c={},l=null,d=null;for(s in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,s)&&!a.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===c[s]&&(c[s]=t[s]);return{$$typeof:i,type:e,key:l,ref:d,props:c,_owner:o.current}}t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=767)}),_N_E=e.O()}]);